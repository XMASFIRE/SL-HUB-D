repeat task.wait() until game:IsLoaded()

if getgenv().SL_HUB_EXECUTED then return end
getgenv().SL_HUB_EXECUTED = true

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- Anti AFK (always on)
LocalPlayer.Idled:Connect(function()
	local vu = game:GetService("VirtualUser")
	vu:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
	task.wait(1)
	vu:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
end)

-- Key system
local MAIN_KEY = "SLONTOP"
local GET_KEY_LINK = "https://discord.gg/YOUR_SERVER"

-- Key GUI
local Gui = Instance.new("ScreenGui", game.CoreGui)
Gui.Name = "SL_KEY_SYSTEM"

local Main = Instance.new("Frame", Gui)
Main.Size = UDim2.new(0,360,0,230)
Main.Position = UDim2.new(0.5,-180,0.5,-115)
Main.BackgroundColor3 = Color3.fromRGB(15,15,15)
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main)

local Stroke = Instance.new("UIStroke", Main)
Stroke.Thickness = 2

local hue = 0
RunService.RenderStepped:Connect(function()
	hue = (hue + 0.003) % 1
	Stroke.Color = Color3.fromHSV(hue,1,1)
end)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1,0,0,45)
Title.BackgroundTransparency = 1
Title.Text = "SL HUB"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
RunService.RenderStepped:Connect(function()
	Title.TextColor3 = Color3.fromHSV(hue,1,1)
end)

local Box = Instance.new("TextBox", Main)
Box.Size = UDim2.new(0.85,0,0,40)
Box.Position = UDim2.new(0.075,0,0.35,0)
Box.PlaceholderText = "ENTER KEY"
Box.Font = Enum.Font.Gotham
Box.TextSize = 14
Box.BackgroundColor3 = Color3.fromRGB(25,25,25)
Box.TextColor3 = Color3.fromRGB(255,255,255)
Instance.new("UICorner", Box)

local Verify = Instance.new("TextButton", Main)
Verify.Size = UDim2.new(0.85,0,0,40)
Verify.Position = UDim2.new(0.075,0,0.65,0)
Verify.Text = "VERIFY"
Verify.Font = Enum.Font.GothamBold
Verify.TextSize = 14
Verify.BackgroundColor3 = Color3.fromRGB(30,30,30)
Instance.new("UICorner", Verify)

local GetKey = Instance.new("TextButton", Main)
GetKey.Size = UDim2.new(0.85,0,0,40)
GetKey.Position = UDim2.new(0.075,0,0.78,0)
GetKey.Text = "GET KEY"
GetKey.Font = Enum.Font.GothamBold
GetKey.TextSize = 14
GetKey.BackgroundColor3 = Color3.fromRGB(30,30,30)
Instance.new("UICorner", GetKey)

-- Function to create buttons in main menu
local function AddButton(frame, name, url)
	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(0.85,0,0,50)
	btn.Text = name
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 16
	btn.BackgroundColor3 = Color3.fromRGB(35,35,35)
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	Instance.new("UICorner", btn)

	btn.MouseButton1Click:Connect(function()
		-- Show Loading
		local loadSign = Instance.new("TextLabel", frame)
		loadSign.Size = UDim2.new(1,0,0,30)
		loadSign.Position = UDim2.new(0,0,0,frame.AbsoluteSize.Y-40)
		loadSign.BackgroundTransparency = 1
		loadSign.Text = "Loading..."
		loadSign.Font = Enum.Font.GothamBold
		loadSign.TextSize = 16
		loadSign.TextColor3 = Color3.fromRGB(255,255,255)

		frame.Parent:Destroy() -- GUI disappears

		pcall(function()
			loadstring(game:HttpGet(url))()
		end)
	end)
end

-- Verify key
Verify.MouseButton1Click:Connect(function()
	local key = string.upper(string.gsub(Box.Text,"%s+",""))
	if key == MAIN_KEY then
		Gui:Destroy() -- Key GUI disappears

		-- Main Menu
		local Menu = Instance.new("ScreenGui", game.CoreGui)
		Menu.Name = "SL_MAIN_MENU"

		local Frame = Instance.new("Frame", Menu)
		Frame.Size = UDim2.new(0,400,0,350)
		Frame.Position = UDim2.new(0.5,-200,0.5,-175)
		Frame.BackgroundColor3 = Color3.fromRGB(20,20,20)
		Frame.Active = true
		Frame.Draggable = true
		Instance.new("UICorner", Frame)

		local Layout = Instance.new("UIListLayout", Frame)
		Layout.Padding = UDim.new(0,12)
		Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
		Layout.VerticalAlignment = Enum.VerticalAlignment.Center

		local Title2 = Instance.new("TextLabel", Frame)
		Title2.Size = UDim2.new(1,0,0,40)
		Title2.Position = UDim2.new(0,0,0,0)
		Title2.BackgroundTransparency = 1
		Title2.Text = "SL HUB"
		Title2.Font = Enum.Font.GothamBold
		Title2.TextSize = 18
		RunService.RenderStepped:Connect(function()
			Title2.TextColor3 = Color3.fromHSV(hue,1,1)
		end)

		-- Add all buttons
		AddButton(Frame,"Legends Of Speed","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/SL%20HUB%20LOS")
		AddButton(Frame,"Muscle Legends","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/SL%20HUB%20ML%20(1).txt")
		AddButton(Frame,"Blox Fruits","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/BloxFruits")
		AddButton(Frame,"Escape Tsunami","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/Tusnammi.txt")
		AddButton(Frame,"Anti AFK","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/SL%20HUB%20ANTI%20AFK")

	else
		Box.Text = ""
		Box.PlaceholderText = "WRONG KEY"
	end
end)

-- Get Key button
GetKey.MouseButton1Click:Connect(function()
	if setclipboard then
		setclipboard(GET_KEY_LINK)
	end
end)repeat task.wait() until game:IsLoaded()

if getgenv().SL_HUB_EXECUTED then return end
getgenv().SL_HUB_EXECUTED = true

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- Anti AFK (always on)
LocalPlayer.Idled:Connect(function()
	local vu = game:GetService("VirtualUser")
	vu:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
	task.wait(1)
	vu:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
end)

-- Key system
local MAIN_KEY = "SLONTOP"
local GET_KEY_LINK = "https://discord.gg/YOUR_SERVER"

-- Key GUI
local Gui = Instance.new("ScreenGui", game.CoreGui)
Gui.Name = "SL_KEY_SYSTEM"

local Main = Instance.new("Frame", Gui)
Main.Size = UDim2.new(0,360,0,230)
Main.Position = UDim2.new(0.5,-180,0.5,-115)
Main.BackgroundColor3 = Color3.fromRGB(15,15,15)
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main)

local Stroke = Instance.new("UIStroke", Main)
Stroke.Thickness = 2

local hue = 0
RunService.RenderStepped:Connect(function()
	hue = (hue + 0.003) % 1
	Stroke.Color = Color3.fromHSV(hue,1,1)
end)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1,0,0,45)
Title.BackgroundTransparency = 1
Title.Text = "SL HUB"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
RunService.RenderStepped:Connect(function()
	Title.TextColor3 = Color3.fromHSV(hue,1,1)
end)

local Box = Instance.new("TextBox", Main)
Box.Size = UDim2.new(0.85,0,0,40)
Box.Position = UDim2.new(0.075,0,0.35,0)
Box.PlaceholderText = "ENTER KEY"
Box.Font = Enum.Font.Gotham
Box.TextSize = 14
Box.BackgroundColor3 = Color3.fromRGB(25,25,25)
Box.TextColor3 = Color3.fromRGB(255,255,255)
Instance.new("UICorner", Box)

local Verify = Instance.new("TextButton", Main)
Verify.Size = UDim2.new(0.85,0,0,40)
Verify.Position = UDim2.new(0.075,0,0.65,0)
Verify.Text = "VERIFY"
Verify.Font = Enum.Font.GothamBold
Verify.TextSize = 14
Verify.BackgroundColor3 = Color3.fromRGB(30,30,30)
Instance.new("UICorner", Verify)

local GetKey = Instance.new("TextButton", Main)
GetKey.Size = UDim2.new(0.85,0,0,40)
GetKey.Position = UDim2.new(0.075,0,0.78,0)
GetKey.Text = "GET KEY"
GetKey.Font = Enum.Font.GothamBold
GetKey.TextSize = 14
GetKey.BackgroundColor3 = Color3.fromRGB(30,30,30)
Instance.new("UICorner", GetKey)

-- Function to create buttons in main menu
local function AddButton(frame, name, url)
	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(0.85,0,0,50)
	btn.Text = name
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 16
	btn.BackgroundColor3 = Color3.fromRGB(35,35,35)
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	Instance.new("UICorner", btn)

	btn.MouseButton1Click:Connect(function()
		-- Show Loading
		local loadSign = Instance.new("TextLabel", frame)
		loadSign.Size = UDim2.new(1,0,0,30)
		loadSign.Position = UDim2.new(0,0,0,frame.AbsoluteSize.Y-40)
		loadSign.BackgroundTransparency = 1
		loadSign.Text = "Loading..."
		loadSign.Font = Enum.Font.GothamBold
		loadSign.TextSize = 16
		loadSign.TextColor3 = Color3.fromRGB(255,255,255)

		frame.Parent:Destroy() -- GUI disappears

		pcall(function()
			loadstring(game:HttpGet(url))()
		end)
	end)
end

-- Verify key
Verify.MouseButton1Click:Connect(function()
	local key = string.upper(string.gsub(Box.Text,"%s+",""))
	if key == MAIN_KEY then
		Gui:Destroy() -- Key GUI disappears

		-- Main Menu
		local Menu = Instance.new("ScreenGui", game.CoreGui)
		Menu.Name = "SL_MAIN_MENU"

		local Frame = Instance.new("Frame", Menu)
		Frame.Size = UDim2.new(0,400,0,350)
		Frame.Position = UDim2.new(0.5,-200,0.5,-175)
		Frame.BackgroundColor3 = Color3.fromRGB(20,20,20)
		Frame.Active = true
		Frame.Draggable = true
		Instance.new("UICorner", Frame)

		local Layout = Instance.new("UIListLayout", Frame)
		Layout.Padding = UDim.new(0,12)
		Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
		Layout.VerticalAlignment = Enum.VerticalAlignment.Center

		local Title2 = Instance.new("TextLabel", Frame)
		Title2.Size = UDim2.new(1,0,0,40)
		Title2.Position = UDim2.new(0,0,0,0)
		Title2.BackgroundTransparency = 1
		Title2.Text = "SL HUB"
		Title2.Font = Enum.Font.GothamBold
		Title2.TextSize = 18
		RunService.RenderStepped:Connect(function()
			Title2.TextColor3 = Color3.fromHSV(hue,1,1)
		end)

		-- Add all buttons
		AddButton(Frame,"Legends Of Speed","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/SL%20HUB%20LOS")
		AddButton(Frame,"Muscle Legends","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/SL%20HUB%20ML%20(1).txt")
		AddButton(Frame,"Blox Fruits","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/BloxFruits")
		AddButton(Frame,"Escape Tsunami","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/Tusnammi.txt")
		AddButton(Frame,"Anti AFK","https://raw.githubusercontent.com/XMASFIRE/SL-HUB-D/refs/heads/main/SL%20HUB%20ANTI%20AFK")

	else
		Box.Text = ""
		Box.PlaceholderText = "WRONG KEY"
	end
end)

-- Get Key button
GetKey.MouseButton1Click:Connect(function()
	if setclipboard then
		setclipboard(GET_KEY_LINK)
	end
end)
